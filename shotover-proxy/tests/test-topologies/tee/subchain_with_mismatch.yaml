---
sources:
  redis_1:
    Redis:
      listen_addr: "127.0.0.1:6379"
      connection_limit: 3000000
  redis_2:
    Redis:
      listen_addr: "127.0.0.1:6378"
      connection_limit: 3000000
chain_config:
  redis_chain_2:
    - RedisSinkCluster:
              first_contact_points: [ "127.0.0.1:2120", "127.0.0.1:2121", "127.0.0.1:2122", "127.0.0.1:2123", "127.0.0.1:2124", "127.0.0.1:2125" ]
  redis_chain_1:
    - Tee:
        buffer_size: 10000
        behavior:
          SubchainOnMismatch:
            - QueryTypeFilter:
                filter: Read
            - RedisSinkCluster:
                first_contact_points: [ "127.0.0.1:2120", "127.0.0.1:2121", "127.0.0.1:2122", "127.0.0.1:2123", "127.0.0.1:2124", "127.0.0.1:2125" ]
        chain:
          - QueryTypeFilter:
              filter: Read
          - DebugReturner:
              Redis: "42"
    - RedisSinkCluster:
        first_contact_points: [ "127.0.0.1:2220", "127.0.0.1:2221", "127.0.0.1:2222", "127.0.0.1:2223", "127.0.0.1:2224", "127.0.0.1:2225" ]
named_topics:
  example: 10
source_to_chain_mapping:
  redis_1: redis_chain_1
  redis_2: redis_chain_2
